(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){e.exports=a(379)},207:function(e,t,a){},208:function(e,t,a){},375:function(e,t){},379:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(40),i=a.n(s),o=(a(207),a(50)),c=a(51),l=a(55),u=a(52),m=a(56),d=a(22),h=(a(208),a(57)),v=(a(123),a(390)),g=a(391),w=a(389),b=a(387),p=a(380),E=a(388),f=a(392),y=a(394),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={visible:!0,loading:!1,username:"",password:"",confirm_password:"",showCreateNewAccount:!1,showLogin:!0,username_exists:!1,invalid_login:!1,validation_errors:!1,birthDay:"",birthMonth:""},a.handleChange=function(e){a.setState({validation_errors:!1}),a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e,t){var n,r=t.name,s=t.value;return a.setState((n={},Object(h.a)(n,r,s),Object(h.a)(n,"validation_errors",!1),n))},a.toggleSignUp=function(){var e;a.setState({validation_errors:!1}),e=!a.state.showCreateNewAccount,a.setState({showCreateNewAccount:!1,showLogin:!1}),e?setTimeout(function(){this.setState({showCreateNewAccount:!this.state.showCreateNewAccount})}.bind(Object(d.a)(Object(d.a)(a))),500):setTimeout(function(){this.setState({showLogin:!this.state.showLogin})}.bind(Object(d.a)(Object(d.a)(a))),500)},a.login=function(){a.props.socket.emit("login",{username:a.state.username,password:a.state.password})},a.create_account=function(){a.state.password!==a.state.confirm_password||a.state.password.length<6||""===a.state.birthDay||""===a.state.birthMonth||a.state.username.length<4?a.setState({validation_errors:!0,username_exists:!1,invalid_login:!1}):(a.setState({validation_errors:!1,username_exists:!1,invalid_login:!1}),a.props.socket.emit("create_account",{username:a.state.username,password:a.state.password,birthday:"".concat(a.state.birthMonth<10?"0":"").concat(a.state.birthMonth.toString(10),"-").concat(a.state.birthDay<10?"0":"").concat(a.state.birthDay.toString(10))}))},a.messages=function(){var e="";return a.state.validation_errors?(a.state.invalid_login?e="Your username or password is not recognized":a.state.password!==a.state.confirm_password?e="Passwords do not match":a.state.password.length<6?e="Password must have at least 6 characters":""===a.state.birthDay||""===a.state.birthMonth?e="Please enter a valid birthday":a.state.username.length<4?e="Username must have at least 4 characters":a.state.username_exists&&(e="This username is already taken"),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(v.a,{warning:!0},r.a.createElement(v.a.Header,null,e),r.a.createElement("p",null,"Please try again."))))):r.a.createElement("div",null)},a.timePicker=function(){var e=new Array(31).fill(void 0).map(function(e,t){var a=t+1;return{key:a,text:a.toString(10),value:a}});return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(g.a.Item,{header:!0},"Birthday"),r.a.createElement(g.a.Menu,{position:"right"},r.a.createElement(w.a,{placeholder:"Month",options:[{key:"Jan",text:"January",value:1},{key:"Feb",text:"February",value:2},{key:"Mar",text:"March",value:3},{key:"Apr",text:"April",value:4},{key:"May",text:"May",value:5},{key:"Jun",text:"June",value:6},{key:"Jul",text:"July",value:7},{key:"Aug",text:"August",value:8},{key:"Sep",text:"September",value:9},{key:"Oct",text:"October",value:10},{key:"Nov",text:"November",value:11},{key:"Dec",text:"December",value:12}],name:"birthMonth",compact:!0,onChange:a.handleDateChange})),r.a.createElement(g.a.Menu,{position:"right"},r.a.createElement(w.a,{placeholder:"Day",options:e,name:"birthDay",compact:!0,onChange:a.handleDateChange}))))},a.create=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(b.a,{fluid:!0,name:"confirm_password",onChange:a.handleChange,placeholder:"Confirm Password",type:"password"}))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},a.timePicker())),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{fluid:!0,onClick:a.create_account},"Create Account"))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{fluid:!0,onClick:a.toggleSignUp},"Back to login"))))},a.normal=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{fluid:!0,onClick:a.login},"Login"))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{fluid:!0,onClick:a.toggleSignUp},"Sign up"))))},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),e.socket.on("username_taken",function(){console.log("username taken!"),a.setState({username_exists:!0,validation_errors:!0})}),e.socket.on("authentication_error",function(){console.log("invalid login!"),a.setState({invalid_login:!0,validation_errors:!0})}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showCreateNewAccount,a=e.showLogin,n=e.validation_errors;return r.a.createElement(E.a,null,r.a.createElement("div",{className:"niceMargins"},r.a.createElement(f.a.Row,null,r.a.createElement(b.a,{fluid:!0,type:"text",name:"username",onChange:this.handleChange,placeholder:"Username"}))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement(f.a.Row,null,r.a.createElement(b.a,{fluid:!0,name:"password",onChange:this.handleChange,placeholder:"Password",type:"password"}))),r.a.createElement(y.a,{animation:"fade right",duration:500,visible:a},this.normal()),r.a.createElement(y.a,{animation:"fade left",duration:500,visible:t},this.create()),r.a.createElement(y.a,{animation:"fade",duration:500,visible:n},this.messages()))}}]),t}(r.a.Component),_=a(192),C=a.n(_),O=a(344),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={result:"no result"},a.handleScan=function(e){e&&a.setState({result:e})},a.handleError=function(e){console.error(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"This is the dashboard"),r.a.createElement(O,{value:this.props.username})),r.a.createElement(C.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),r.a.createElement("p",null,this.state.result))}}]),t}(n.Component),N=a(194),S=a.n(N)()("https://zellipsoid.ngrok.io"),M=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={authenticated:!1,show_dashboard:!1,username:""},e.open_dashboard=function(){e.setState({authenticated:!0}),setTimeout(function(){this.setState({show_dashboard:!0})}.bind(Object(d.a)(Object(d.a)(e))),500)},S.on("authentication_successful",function(t){console.log("logging in as ".concat(t.username,"!")),e.state.username=t.username,e.open_dashboard()}),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{animation:"fade",duration:500,visible:!this.state.authenticated},r.a.createElement("div",{className:"center"},r.a.createElement(k,{socket:S}))),r.a.createElement(y.a,{animation:"fade",duration:500,visible:this.state.show_dashboard},r.a.createElement("div",{className:"center"},r.a.createElement(j,{socket:S,username:this.state.username}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[202,1,2]]]);
//# sourceMappingURL=main.2ddba987.chunk.js.map