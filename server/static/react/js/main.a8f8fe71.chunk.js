(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,a,t){},204:function(e,a,t){e.exports=t(380)},209:function(e,a,t){},376:function(e,a){},380:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(41),i=t.n(s),o=(t(209),t(50)),l=t(51),c=t(55),u=t(52),d=t(56),m=t(23),h=(t(124),t(57)),v=(t(125),t(391)),g=t(392),p=t(389),w=t(387),E=t(381),b=t(388),f=t(395),y=t(396),_=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).state={visible:!0,loading:!1,username:"",password:"",confirm_password:"",showCreateNewAccount:!1,showLogin:!0,username_exists:!1,invalid_login:!1,validation_errors:!1,birthDay:"",birthMonth:""},t.handleChange=function(e){t.setState({validation_errors:!1}),t.setState(Object(h.a)({},e.target.name,e.target.value))},t.handleDateChange=function(e,a){var n,r=a.name,s=a.value;return t.setState((n={},Object(h.a)(n,r,s),Object(h.a)(n,"validation_errors",!1),n))},t.toggleSignUp=function(){var e;t.setState({validation_errors:!1}),e=!t.state.showCreateNewAccount,t.setState({showCreateNewAccount:!1,showLogin:!1}),e?setTimeout(function(){this.setState({showCreateNewAccount:!this.state.showCreateNewAccount})}.bind(Object(m.a)(Object(m.a)(t))),500):setTimeout(function(){this.setState({showLogin:!this.state.showLogin})}.bind(Object(m.a)(Object(m.a)(t))),500)},t.login=function(){t.props.socket.emit("login",{username:t.state.username,password:t.state.password})},t.create_account=function(){t.state.password!==t.state.confirm_password||t.state.password.length<6||""===t.state.birthDay||""===t.state.birthMonth||t.state.username.length<4?t.setState({validation_errors:!0,username_exists:!1,invalid_login:!1}):(t.setState({validation_errors:!1,username_exists:!1,invalid_login:!1}),t.props.socket.emit("create_account",{username:t.state.username,password:t.state.password,birthday:"".concat(t.state.birthMonth<10?"0":"").concat(t.state.birthMonth.toString(10),"-").concat(t.state.birthDay<10?"0":"").concat(t.state.birthDay.toString(10))}))},t.messages=function(){var e="";return t.state.validation_errors?(t.state.invalid_login?e="Your username or password is not recognized":t.state.password!==t.state.confirm_password?e="Passwords do not match":t.state.password.length<6?e="Password must have at least 6 characters":""===t.state.birthDay||""===t.state.birthMonth?e="Please enter a valid birthday":t.state.username.length<4?e="Username must have at least 4 characters":t.state.username_exists&&(e="This username is already taken"),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(v.a,{warning:!0},r.a.createElement(v.a.Header,null,e),r.a.createElement("p",null,"Please try again."))))):r.a.createElement("div",null)},t.timePicker=function(){var e=new Array(31).fill(void 0).map(function(e,a){var t=a+1;return{key:t,text:t.toString(10),value:t}});return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(g.a.Item,{header:!0},"Birthday"),r.a.createElement(g.a.Menu,{position:"right"},r.a.createElement(p.a,{placeholder:"Month",options:[{key:"Jan",text:"January",value:1},{key:"Feb",text:"February",value:2},{key:"Mar",text:"March",value:3},{key:"Apr",text:"April",value:4},{key:"May",text:"May",value:5},{key:"Jun",text:"June",value:6},{key:"Jul",text:"July",value:7},{key:"Aug",text:"August",value:8},{key:"Sep",text:"September",value:9},{key:"Oct",text:"October",value:10},{key:"Nov",text:"November",value:11},{key:"Dec",text:"December",value:12}],name:"birthMonth",compact:!0,onChange:t.handleDateChange})),r.a.createElement(g.a.Menu,{position:"right"},r.a.createElement(p.a,{placeholder:"Day",options:e,name:"birthDay",compact:!0,onChange:t.handleDateChange}))))},t.create=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(w.a,{fluid:!0,name:"confirm_password",onChange:t.handleChange,placeholder:"Confirm Password",type:"password"}))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},t.timePicker())),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(E.a,{fluid:!0,onClick:t.create_account},"Create Account"))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(E.a,{fluid:!0,onClick:t.toggleSignUp},"Back to login"))))},t.normal=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(E.a,{fluid:!0,onClick:t.login},"Login"))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement("div",{className:"row"},r.a.createElement(E.a,{fluid:!0,onClick:t.toggleSignUp},"Sign up"))))},t.handleChange=t.handleChange.bind(Object(m.a)(Object(m.a)(t))),e.socket.on("username_taken",function(){console.log("username taken!"),t.setState({username_exists:!0,validation_errors:!0})}),e.socket.on("authentication_error",function(){console.log("invalid login!"),t.setState({invalid_login:!0,validation_errors:!0})}),t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.state,a=e.showCreateNewAccount,t=e.showLogin,n=e.validation_errors;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"niceMargins"},r.a.createElement(f.a.Row,null,r.a.createElement(w.a,{fluid:!0,type:"text",name:"username",onChange:this.handleChange,placeholder:"Username"}))),r.a.createElement("div",{className:"niceMargins"},r.a.createElement(f.a.Row,null,r.a.createElement(w.a,{fluid:!0,name:"password",onChange:this.handleChange,placeholder:"Password",type:"password"}))),r.a.createElement(y.a,{animation:"fade right",duration:500,visible:t},this.normal()),r.a.createElement(y.a,{animation:"fade left",duration:500,visible:a},this.create()),r.a.createElement(y.a,{animation:"fade",duration:500,visible:n},this.messages()))}}]),a}(r.a.Component),k=t(194),C=t.n(k),O=t(390),S=t(393),j=t(345),N=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={result:"no result"},t.handleScan=function(e){e&&t.setState({result:e})},t.handleError=function(e){console.error(e)},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,null===this.props.user_data.rank?r.a.createElement(M,{user_data:this.props.user_data}):r.a.createElement("div",null,r.a.createElement(C.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),r.a.createElement("p",null,this.state.result)))}}]),a}(n.Component);function M(e){return r.a.createElement("div",null,r.a.createElement(j,{value:e.user_data.username,style:{width:"100%",height:"auto"}}),r.a.createElement(O.a,{fluid:!0,header:"Have a cashier scan this to earn or redeem points"}),r.a.createElement(S.a,{color:"red",size:"huge",style:{width:"100%"}},r.a.createElement(S.a.Value,null,e.user_data.stamps),r.a.createElement(S.a.Label,null,"Stamps Earned")))}var x=t(196),A=t.n(x)()("https://zellipsoid.ngrok.io"),D=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(c.a)(this,Object(u.a)(a).call(this))).state={authenticated:!1,show_dashboard:!1,user_data:{}},e.open_dashboard=function(){e.setState({authenticated:!0}),setTimeout(function(){this.setState({show_dashboard:!0})}.bind(Object(m.a)(Object(m.a)(e))),500)},A.on("authentication_successful",function(a){console.log("User received:"),console.log(a),e.state.user_data=a,e.open_dashboard()}),e}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{animation:"fade",duration:500,visible:!this.state.authenticated},r.a.createElement("div",{className:"center"},r.a.createElement(_,{socket:A}))),r.a.createElement(y.a,{animation:"fade",duration:500,visible:this.state.show_dashboard},r.a.createElement("div",{className:"center"},r.a.createElement(N,{socket:A,user_data:this.state.user_data}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[204,1,2]]]);
//# sourceMappingURL=main.a8f8fe71.chunk.js.map